window.__require=function e(t,n,i){function a(o,s){if(!n[o]){if(!t[o]){var c=o.split("/");if(c=c[c.length-1],!t[c]){var d="function"==typeof __require&&__require;if(!s&&d)return d(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+o+"'")}o=c}var E=n[o]={exports:{}};t[o][0].call(E.exports,function(e){return a(t[o][1][e]||e)},E,E.exports,e,t,n,i)}return n[o].exports}for(var r="function"==typeof __require&&__require,o=0;o<i.length;o++)a(i[o]);return a}({Controller:[function(e,t,n){"use strict";cc._RF.push(t,"f836dKWNtlCD4eB7ehfDQhA","Controller");var i=cc.Class({statics:{_instance:null,getInstance:function(){return i._instance||(i._instance=new i),i._instance}},properties:{initJson:null,streamJson:null,loadIndex:0,gameStatus:!1},getInitStageData:function(){return this.initJson.stage},getInitPlayerData:function(){return this.initJson.player},getInitOjbectDatas:function(){return this.initJson.stage.init_item_list},getCommandLine:function(e){var t=this.streamJson;return null==t?-1:e>=t.data.length?(console.log("Out of Range"),-1):t.data[e]},getCommandLength:function(){return this.streamJson.data.length-1},ReceiveJson:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.initJson=e:this.streamJson=e},GetProgressId:function(){return this.loadIndex},SetProgressId:function(e){this.loadIndex=e},GetStatus:function(){return this.gameStatus},SetStatus:function(e){this.gameStatus=e},SetOption:function(e){},InitOption:function(e){}});t.exports=i,window.SendInitData=function(e){return null!=i.getInstance().initJson||(i.getInstance().ReceiveJson(e,!0),!1)},window.SendStreamData=function(e){i.getInstance().ReceiveJson(e),i.getInstance().SetProgressId(0),i.getInstance().SetStatus(!0)},window.SetProgressId=function(e){i.getInstance().SetProgressId(e)},window.OnClickPlay=function(){i.getInstance().SetStatus(!0)},window.SetOptions=function(e){i.getInstance().SetOption(e)},window.InitOption=function(e){i.getInstance().InitOption(e)},cc._RF.pop()},{}],Env:[function(e,t,n){"use strict";cc._RF.push(t,"79616xg/o1EEq25k+q+RW23","Env"),window.Env={OFFSET_X:96,OFFSET_Y:96,PLAYER_RADIO:48,SFX_FOOTSTEP_L:0,SFX_FOOTSTEP_R:1,SFX_DIRECTORY_PATH:"./sfx/",SFX_FILENAME_DROP_SWITCH:"drop_switch",SFX_FILENAME_LASER_SWITCH:"laser_switch",SFX_FILENAME_EXPLOSION:"explosion",SFX_FILENAME_EARN:"itemEarn",SFX_FILENAME_DROP_ITEM:"drop_item",SFX_FILENAME_LASER_ON:"laser_on",SFX_FILENAME_LASER_OFF:"laser_off",SFX_FILENAME_PARTS_DOCKING:"parts_done",SFX_DROP_SWITCH:0,SFX_LASER_BUTTON:1,SFX_BOMB:2,SFX_EARN_ITEM:3,SFX_DROP_ITEM:4,SFX_LASER_ON:5,SFX_LASER_OFF:6,SFX_PARTS_DOCKING:7,FOOD:0,NORMAL_SWITCH_ON:1,NORMAL_SWITCH_OFF:2,LASER_SWITCH_ON:3,LASER_SWITCH_OFF:4,BATTERY:5,BOMB:6,ROCKET_EMPTY:7,ROCKET_FILLED:8,LASER_START_ON:9,LASER_MIDDLE_ON:10,LASER_END_ON:11,LASER_START_OFF:12,LASER_END_OFF:13,GOAL:14,MAX_LOAD_IMAGE_LENGTH:15,DIRECTORY_PATH:"./$jin/",FOOD_BOX_FILE_NAME:"foodBox",N_SWITCH_ON_FILE_NAME:"nSwitch_on",N_SWITCH_OFF_FILE_NAME:"nSwitch_off",L_SWITCH_ON_FILE_NAME:"lSwitch_on",L_SWITCH_OFF_FILE_NAME:"lSwitch_off",BATTERY_FILE_NAME:"battery",BOMB_FILE_NAME:"bomb",ROCKET_EMPTY_FILE_NAME:"rocket_empty",ROCKET_FILLED_FILE_NAME:"rocket_fill",L_START_ON_FILE_NAME:"lStart_on",L_MIDDLE_FILE_NAME:"lMiddle_on",L_END_ON_FILE_NAME:"lEnd_on",L_START_OFF_FILE_NAME:"lStart_off",L_END_OFF_FILE_NAME:"lEnd_off",GOAL_FILE_NAME:"test-none",DIRECTION_UP:"up",DIRECTION_LEFT:"left",DIRECTION_RIGHT:"right",DIRECTION_DOWN:"down",PLAYER_DEFAULT_UP:0,PLAYER_DEFAULT_DOWN:1,PLAYER_DEFAULT_LEFT:2,PLAYER_DEFAULT_RIGHT:3,ANIMATION_LEFT:"leftRun",ANIMATION_RIGHT:"rightRun",ANIMATION_UP:"upRun",ANIMATION_DOWN:"downRun",ANIMATION_IDLE_LEFT:"left_idle",ANIMATION_IDLE_RIGHT:"right_idle",ANIMATION_LEFT_HIT:"hit_left",ANIMATION_RIGHT_HIT:"hit_right"},cc._RF.pop()},{}],GameManager:[function(e,t,n){"use strict";cc._RF.push(t,"727210ZU8hOIIDBp99LB0z6","GameManager");var i=e("../Controller"),a=e("./SoundManager"),r=e("./Loader"),o=e("./SoundManager");cc.Class({extends:cc.Component,properties:{btnTest:cc.Button,loadingBG:cc.Node,isLoaded:!1,isPlay:!1,camera:cc.Camera,mapOffset:{default:[]},idx:0,gameMap:cc.TiledMap,player:cc.Node,spaceShip:cc.Node,bgNode:cc.Node,item:[],dropItemList:[],dropSwitchList:[],goalObject:cc.Node,objectParent:cc.Node,effectParent:cc.Node,audioManager:cc.Node,pList:[],pIdx:0,hList:[],hIdx:0,expList:[],expIdx:0,dropEffectList:[],dropEffectIdx:0,isPlayExplosion:!1},onLoad:function(){this.loadingBG.active=!0;var e=this,t=setInterval(function(){null!=r.getInstance().GetImage(0)&&(clearInterval(t),e.InitGame())},90)},start:function(){var e=setInterval(function(){null!=a.getInstance().IsLoadCheck()&&clearInterval(e)},30)},_TileMapShake:function(){var e=this;setTimeout(function(){e.CameraMoveX(1)},1e3),setTimeout(function(){e.CameraMoveX(-1)},2e3)},CameraMoveX:function(e){var t=this.camera.node.position,n=t.x-e,i=cc.v3(n,t.y,t.z);this.camera.node.setPosition(i)},LoadingFadeOut:function(){var e=this;setTimeout(function(){var t=setInterval(function(){e.loadingBG.opacity<=0&&(e.loadingBG.active=!1,e.isLoaded=!0,clearInterval(t)),e.loadingBG.opacity-=3},30)},1e3)},InitGame:function(){this.mapOffset=[{x:0,y:2},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:2,y:-2},{x:0,y:-1},{x:-4,y:1},{x:0,y:-2},{x:0,y:-1},{x:-4,y:1},{x:0,y:-2},{x:0,y:-1},{x:-4,y:1}],this.loadInit()},loadInit:function(){var e=this,t=setInterval(function(){null!=i.getInstance().initJson&&(e.EffectInit(),e.InitMap(),e.InitPlayer(),e.InitObject(),e.InitialCamera(),e.LoadingFadeOut(),clearInterval(t))},100)},update:function(e){this.isLoaded&&(i.getInstance().GetStatus()&&this.OnCodePlay())},InitPlayer:function(){var e=i.getInstance().getInitPlayerData(),t=e.pos,n=e.dir,a=(e.hp,e.status,e.food_count,e.rocket_parts_count,this),r=this.GVector(t[0],t[1]);cc.loader.loadRes("./prefabs/Player",cc.Prefab,function(e,t){e?cc.error("Error loading image: "+e):(a.player=cc.instantiate(t),a.player.getComponent("Player").Init(r,n),a.node.addChild(a.player))})},GVector:function(e,t){var n=1*e,a=-1*t,r=i.getInstance().getInitStageData(),o=r.step,s=r.diff,c=r.level,d=this.ConvertGameLevel(o,s,c);return cc.v2((n+this.mapOffset[d].x)*Env.OFFSET_X+Env.PLAYER_RADIO,(a-this.mapOffset[d].y)*Env.OFFSET_Y-Env.PLAYER_RADIO)},ConvertGameLevel:function(e,t,n){var i=0;return"tutorial"===e?i=n-1:("1-1"===e&&"Easy"===t&&1===n&&(i=2),"1-1"===e&&"Easy"===t&&2===n&&(i=3),"1-1"===e&&"Easy"===t&&3===n&&(i=4),"1-1"===e&&"Normal"===t&&1===n&&(i=5),"1-1"===e&&"Normal"===t&&2===n&&(i=6),"1-1"===e&&"Normal"===t&&3===n&&(i=7),"1-1"===e&&"Hard"===t&&1===n&&(i=8),"1-1"===e&&"Hard"===t&&2===n&&(i=9),"1-1"===e&&"Hard"===t&&3===n&&(i=10),"1-2"===e&&"Easy"===t&&1===n&&(i=11),"1-2"===e&&"Easy"===t&&2===n&&(i=12),"1-2"===e&&"Easy"===t&&3===n&&(i=13),"1-2"===e&&"Normal"===t&&1===n&&(i=14),"1-2"===e&&"Normal"===t&&2===n&&(i=15),"1-2"===e&&"Normal"===t&&3===n&&(i=16),"1-2"===e&&"Hard"===t&&1===n&&(i=17),"1-2"===e&&"Hard"===t&&2===n&&(i=18),"1-2"===e&&"Hard"===t&&3===n&&(i=19),"1-3"===e&&"Easy"===t&&1===n&&(i=20),"1-3"===e&&"Easy"===t&&2===n&&(i=21),"1-3"===e&&"Easy"===t&&3===n&&(i=22),"1-3"===e&&"Normal"===t&&1===n&&(i=23),"1-3"===e&&"Normal"===t&&2===n&&(i=24),"1-3"===e&&"Normal"===t&&3===n&&(i=25),"1-3"===e&&"Hard"===t&&1===n&&(i=26),"1-3"===e&&"Hard"===t&&2===n&&(i=27),"1-3"===e&&"Hard"===t&&3===n&&(i=28)),i},InitMap:function(){var e=this,t="./map/"+this.GetMapURL();cc.loader.loadRes(t,cc.TiledMapAsset,function(t,n){if(t)cc.error("Error loading image: "+t);else{e.gameMap.tmxAsset=n;var i=e.gameMap.getMapSize(),a=e.gameMap.getTileSize(),r=i.width*a.width,o=i.height*a.height;cc.v2(1.5*-r,3*-o);e.gameMap.node.setPosition(0,3*-o),e._TileMapShake()}})},GetMapURL:function(){var e="",t=i.getInstance().getInitStageData(),n=(t.map,t.step),a=t.diff,r=t.level;if("tutorial"===n)e="map_T-"+r.toString();else{var o="Easy";switch(a){case"Easy":o="E";break;case"Normal":o="N";break;case"Hard":o="H"}e="map_"+n.toString()+"-"+o+"-"+r.toString()}return e},SetCamera:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.5;this.camera.node.setPosition(cc.v3(e,t,0)),this.camera.zoomRatio=n},InitialCamera:function(){var e=i.getInstance().getInitStageData(),t=e.step,n=e.diff,a=e.level,r=this.ConvertGameLevel(t,n,a);switch(this.spaceShip.active=!1,r){case 0:case 1:this.SetCamera(-600,-860,1);break;case 2:case 3:case 5:case 6:case 8:case 9:this.SetCamera(-500,-950,1);break;case 4:case 7:case 10:this.SetCamera(-500,-1060,1);break;case 11:case 14:case 17:this.SetCamera(-300,-1200,.75);break;case 12:case 15:case 18:this.SetCamera(250,-1350,.65);break;case 13:case 16:case 19:this.SetCamera(550,-1350,.6);break;case 20:case 23:case 26:this.SetCamera(140,-900,.8),this.spaceShip.setPosition(cc.v2(-2600,-250)),this.spaceShip.active=!0;break;case 21:case 24:case 27:this.SetCamera(350,-900,.7),this.spaceShip.setPosition(cc.v2(-200,-250)),this.spaceShip.active=!0;break;case 22:case 25:case 28:this.SetCamera(350,-1300,.7),this.spaceShip.setPosition(cc.v2(4e3,-250)),this.spaceShip.active=!0}},EffectInit:function(){for(var e=this,t=0;t<5;t++)cc.loader.loadRes("/prefabs/explosion",cc.Prefab,function(t,n){if(t)cc.error("Error loading image: "+t);else{var i=cc.instantiate(n);i.active=!1,e.effectParent.addChild(i),e.expList.push(i)}}),cc.loader.loadRes("/prefabs/heal",cc.Prefab,function(t,n){if(t)cc.error("Error loading image: "+t);else{var i=cc.instantiate(n);i.active=!1,e.effectParent.addChild(i),e.hList.push(i)}}),cc.loader.loadRes("/prefabs/pickup",cc.Prefab,function(t,n){if(t)cc.error("Error loading image: "+t);else{var i=cc.instantiate(n);i.active=!1,e.effectParent.addChild(i),e.pList.push(i)}}),cc.loader.loadRes("/prefabs/dropEffect",cc.Prefab,function(t,n){if(t)cc.error("Error loading image: "+t);else{var i=cc.instantiate(n);i.active=!1,e.effectParent.addChild(i),e.dropEffectList.push(i)}})},ShowExplosion:function(e){this.expIdx>=this.expList.length-1&&(this.expIdx=0),this.expList[this.expIdx].active=!0,this.expList[this.expIdx].setPosition(e);var t=this.expList[this.expIdx].getComponent(cc.Animation),n=this;t.on("finished",function(){n.expList[n.expIdx].active&&(n.expList[n.expIdx].active=!1,n.expIdx++)},this),t.play("explosion")},ShowHeal:function(e){this.hIdx>=this.hList.length-1&&(this.hIdx=0),this.hList[this.hIdx].active=!0,this.hList[this.hIdx].setPosition(e);var t=this.hList[this.hIdx].getComponent(cc.Animation),n=this;t.on("finished",function(){n.hList[n.expIdx].active&&(n.hList[n.hIdx].active=!1,n.hIdx++)},this),t.play("heal"),this.hList[this.hIdx].getComponent(cc.Animation).play("heal")},ShowPickup:function(e){this.pIdx>=this.pList.length-1&&(this.pIdx=0),this.pList[this.pIdx].active=!0,this.pList[this.pIdx].setPosition(e);var t=this.pList[this.pIdx].getComponent(cc.Animation),n=this;t.on("finished",function(){n.pList[n.pIdx].active&&(n.pList[n.pIdx].active=!1,n.pIdx++)},this),o.getInstance().PlaySfx(Env.SFX_EARN_ITEM),t.play("pickup")},ShowDropEffect:function(e){this.dropEffectIdx>=this.dropEffectList.length-1&&(this.dropEffectIdx=0),this.dropEffectList[this.dropEffectIdx].active=!0,this.dropEffectList[this.dropEffectIdx].setPosition(e);var t=this.dropEffectList[this.dropEffectIdx].getComponent(cc.Animation),n=this;t.on("finished",function(){n.dropEffectList[n.dropEffectIdx].active&&(n.dropEffectList[n.dropEffectIdx].active=!1,n.dropEffectIdx++)},this),t.play("dropeffect")},InitObject:function(){var e=i.getInstance().getInitOjbectDatas();if(e.length<1)console.log("item list is Null");else{for(var t=0;t<e.length;t++)this.MakeUpObject(e[t]);var n=i.getInstance().getInitStageData().goal_list;this.MakeGoal(n)}},MakeGoal:function(e){for(var t=0;t<e.length;t++)if("target"===e[t].goal){var n=e[t],i=cc.v2(n.pos[0],n.pos[1]);this.AddPrefabs(Env.GOAL,-1,i);break}},MakeUpObject:function(e){var t=e.type;if("laser"===t){var n=e.id,i=e.dir,a=e.pos_start[0],r=e.pos_start[1],o=e.status,s=cc.v2(a,r);this.AddLaserPrefab(Env.LASER_START_ON,n,s,o);var c=e.pos_end[0],d=e.pos_end[1],E=cc.v2(c,d);if(this.AddLaserPrefab(Env.LASER_END_ON,n,E,o),"h"===i)for(var _=a+1;_<c;_++){var l=cc.v2(_,r);this.AddLaserPrefab(Env.LASER_MIDDLE_ON,n,l,o)}else if("v"===i)for(_=r+1;_<d;_++){l=cc.v2(a,_);this.AddLaserPrefab(Env.LASER_MIDDLE_ON,n,l,o)}}else if("drop_switch"===t){var h=e.id,p=this.NameToTag(e.type),f=e.pos[0],I=e.pos[1],u=cc.v2(f,I),S=e.pos_drop[0],g=e.pos_drop[1],v=e.drop_type,L=this.NameToTag(v),R=cc.v2(S,g);this.AddDropSwitchPrefabs(p,h,u,L,R)}else{var A=this.NameToTag(e.type),m=e.pos[0],T=e.pos[1],O=e.id,F=cc.v2(m,T);A===Env.ROCKET_EMPTY?this.AddRocketParts(A,O,F,e):this.AddPrefabs(A,O,F)}},NameToTag:function(e){switch(e){case"food":return Env.FOOD;case"bomb":return Env.BOMB;case"rocket_parts":return Env.BATTERY;case"drop_switch":return Env.NORMAL_SWITCH_ON;case"laser_switch":return Env.LASER_SWITCH_ON;case"engines":case"solid_propellant":case"liquid_fuel":return Env.ROCKET_EMPTY}},AddRocketParts:function(e,t,n,i){var a=this;cc.loader.loadRes("./prefabs/rocketParts",cc.Prefab,function(r,o){if(r)cc.error("Error loading image: "+r);else{var s=cc.instantiate(o);s.addComponent("Gobject"),s.getComponent("Gobject").Init(e,t);var c=a.GVector(n.x,n.y);switch(s.setPosition(c),s.opacity=100,i.require_dir){case"up":s.rotation=0;break;case"down":s.rotation=-180;break;case"left":s.rotation=-90;break;case"right":s.rotation=90}a.item.push(s),a.objectParent.addChild(s),a.objectParent.setLocalZOrder=10}})},AddPrefabs:function(e,t,n){var i="",a=this;switch(e){case Env.FOOD:i="food";break;case Env.NORMAL_SWITCH_ON:case Env.NORMAL_SWITCH_OFF:i="nSwitch";break;case Env.LASER_SWITCH_ON:case Env.LASER_SWITCH_OFF:i="lSwitch";break;case Env.BATTERY:i="battery";break;case Env.BOMB:i="bomb";break;case Env.ROCKET_EMPTY:case Env.ROCKET_FILLED:i="rocketParts";break;case Env.GOAL:i="goal"}var r="./prefabs/"+i;cc.loader.loadRes(r,cc.Prefab,function(i,r){if(i)cc.error("Error loading image: "+i);else{var o=cc.instantiate(r);o.addComponent("Gobject"),o.getComponent("Gobject").Init(e,t);var s=a.GVector(n.x,n.y);o.setPosition(s),e===Env.GOAL?(a.goalObject=o,a.node.addChild(o)):(a.item.push(o),a.node.addChild(o))}})},AddDropSwitchPrefabs:function(e,t,n,i,a){var r=this;cc.loader.loadRes("./prefabs/nSwitch",cc.Prefab,function(i,a){if(i)cc.error("Error loading image: "+i);else{var o=cc.instantiate(a);o.addComponent("Gobject"),o.getComponent("Gobject").Init(e,t);var s=r.GVector(n.x,n.y);o.setPosition(s),r.node.addChild(o),r.dropSwitchList.push(o)}});cc.loader.loadRes("./prefabs/battery",cc.Prefab,function(e,n){if(e)cc.error("Error loading image: "+e);else{var o=cc.instantiate(n);o.addComponent("Gobject"),o.getComponent("Gobject").Init(i,t),o.getComponent("Gobject").DropItemHide();var s=r.GVector(a.x,a.y);o.setPosition(s),r.node.addChild(o),r.dropItemList.push(o)}})},AddLaserPrefab:function(e,t,n,i){var a="laser",r=this;e===Env.LASER_MIDDLE_ON&&(a="laserMiddle");var o="./prefabs/"+a;cc.loader.loadRes(o,cc.Prefab,function(a,o){if(a)cc.error("Error loading image: "+a);else{var s=cc.instantiate(o);s.addComponent("Gobject"),s.getComponent("Gobject").Init(e,t);var c=!1;c=0!==i,s.getComponent("Gobject").LaserInitial(e,c);var d=r.GVector(n.x,n.y);s.setPosition(d),r.node.addChild(s),r.item.push(s)}})},executeCommand:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=i.getInstance().getCommandLine(e);if(-1===t)return!1;if(1===t.status)return!1;this.ObjectUpdate(t.item_list);var n=t.player.status,a=this.GVector(t.player.pos[0],t.player.pos[1]);return this.EffectControl(n,a),this.player.getComponent("Player").setPlayerStatus(n),this.player.getComponent("Player").setDirection(t.player.dir),this.player.getComponent("Player").Movement(a),!0},EffectControl:function(e,t){11===e?this.ShowExplosion(t):3===e&&this.ShowPickup(t)},ObjectUpdate:function(e){if(!(e.length<1))for(var t=0;t<e.length;t++)this.ItemStatusUpdate(t,e[t]),this.DropSwitchUpdate(t,e[t])},DropSwitchUpdate:function(e,t){for(var n=0;n<this.dropSwitchList.length;n++){var i=this.dropSwitchList[n].getComponent("Gobject"),a=i.GetItemID();if(a===e&&0===t){var r=(o=this.FindDropItem(a)).getComponent("Gobject");!1===o.active&&this.ShowDropEffect(o.position),r.DropItemShow(),i.Hide()}else if(a===e&&1===t){(r=(o=this.FindDropItem(a)).getComponent("Gobject")).DropItemHide(),i.Hide()}else if(a===e&&2===t){(r=(o=this.FindDropItem(a)).getComponent("Gobject")).DropItemShow(),i.Show()}else if(a===e&&3===t){var o;(r=(o=this.FindDropItem(a)).getComponent("Gobject")).DropItemHide(),i.Show()}}},FindDropItem:function(e){for(var t=0;t<this.dropItemList.length;t++)if(this.dropItemList[t].getComponent("Gobject").GetItemID()===e)return this.dropItemList[t]},ItemStatusUpdate:function(e,t){for(var n=0;n<this.item.length;n++){var i=this.item[n].getComponent("Gobject"),a=i.GetItemID();i.GetItemTag();a===e&&0===t?i.Hide():i.GetItemID()===e&&1===t&&i.Show()}},OnCodePlay:function(){if(!this.isPlay){var e=this;this.isPlay=!0,this.idx=i.getInstance().GetProgressId();var t=setInterval(function(){!1===e.executeCommand(e.idx)&&(clearInterval(t),e.isPlay=!1,i.getInstance().SetStatus(!1)),e.idx++},1e3/60)}}}),cc._RF.pop()},{"../Controller":"Controller","./Loader":"Loader","./SoundManager":"SoundManager"}],Gobject:[function(e,t,n){"use strict";cc._RF.push(t,"e58f19MSUlGgK4r9ykmwmrh","Gobject");e("../Controller");var i=e("../GameLogic/Loader"),a=e("../GameLogic/SoundManager");cc.Class({extends:cc.Component,properties:{itemId:0,itemTAG:0,isStatusChange:!1},Init:function(e,t){this.ChangeSprite(e),this.itemId=t,this.itemTAG=e,this.isStatusChange=!0,e===Env.FOOD&&this.node.getChildByName("gliter").getComponent(cc.Animation).play("gliter")},GetItemTag:function(){return this.itemTAG},GetItemID:function(){return this.itemId},LaserInitial:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e===Env.LASER_START_ON?this.ChangeSprite(Env.LASER_START_ON):e===Env.LASER_MIDDLE_ON?this.node.active=!0:e===Env.LASER_END_ON&&this.ChangeSprite(Env.LASER_END_ON):(this.isStatusChange=!0,e===Env.LASER_START_ON?this.ChangeSprite(Env.LASER_START_OFF):e===Env.LASER_MIDDLE_ON?this.node.active=!1:e===Env.LASER_END_ON&&this.ChangeSprite(Env.LASER_END_OFF))},Hide:function(){if(!1!==this.isStatusChange)if(this.isStatusChange=!1,this.itemTAG===Env.LASER_START_ON)this.ChangeSprite(Env.LASER_START_OFF);else if(this.itemTAG===Env.LASER_END_ON)this.ChangeSprite(Env.LASER_END_OFF);else if(this.itemTAG===Env.LASER_SWITCH_ON)a.getInstance().PlaySfx(Env.SFX_LASER_BUTTON),this.ChangeSprite(Env.LASER_SWITCH_OFF);else if(this.itemTAG===Env.ROCKET_EMPTY)this.ChangeSprite(Env.ROCKET_EMPTY);else if(this.itemTAG===Env.NORMAL_SWITCH_ON)this.ChangeSprite(Env.NORMAL_SWITCH_OFF);else{if(!1===this.node.active)return;this.itemTAG===Env.BOMB&&a.getInstance().PlaySfx(Env.SFX_BOMB),this.node.active=!1}},Show:function(){if(!this.isStatusChange)if(this.isStatusChange=!0,this.itemTAG===Env.LASER_START_ON)this.ChangeSprite(Env.LASER_START_ON);else if(this.itemTAG===Env.LASER_END_ON)a.getInstance().PlaySfx(Env.SFX_LASER_ON),this.ChangeSprite(Env.LASER_END_ON);else if(this.itemTAG===Env.LASER_SWITCH_ON)this.ChangeSprite(Env.LASER_SWITCH_ON);else if(this.itemTAG===Env.ROCKET_EMPTY)this.node.opacity=255,this.ChangeSprite(Env.ROCKET_FILLED),a.getInstance().PlaySfx(Env.SFX_PARTS_DOCKING),this.ShowProofEffect();else if(this.itemTAG===Env.NORMAL_SWITCH_ON)a.getInstance().PlaySfx(Env.SFX_DROP_SWITCH),this.ChangeSprite(Env.NORMAL_SWITCH_ON);else{if(!0===this.node.active)return;this.node.active=!0}},DropItemShow:function(){!0!==this.node.active&&(a.getInstance().PlaySfx(Env.SFX_DROP_ITEM),this.node.active=!0)},DropItemHide:function(){!1!==this.node.active&&(a.getInstance().PlaySfx(Env.SFX_EARN_ITEM),this.node.active=!1)},ShowProofEffect:function(){var e=this.node.getChildByName("proof");e.active=!0;var t=e.getComponent(cc.Animation);t.on("finished",function(){e.active=!1},this),t.play("proof")},ChangeSprite:function(e){this.node.getComponent(cc.Sprite).spriteFrame=i.getInstance().GetImage(e)}});cc._RF.pop()},{"../Controller":"Controller","../GameLogic/Loader":"Loader","../GameLogic/SoundManager":"SoundManager"}],Loader:[function(e,t,n){"use strict";cc._RF.push(t,"5b28f8Sy3hCNK12RzDq3AFJ","Loader");var i=cc.Class({extends:cc.Component,statics:{_instance:null,getInstance:function(){return i._instance||(i._instance=new i,i._instance.init()),i._instance}},properties:{initStatus:!1,spr:[],player_IMG:[]},init:function(){console.log("Loaded Sprite"),this._LoadImage()},_LoadImage:function(){if(this.initStatus)return!1;this.initStatus=!0,this.spr=new Array(Env.MAX_LOAD_IMAGE_LENGTH).fill(null),this.player_IMG=new Array(4).fill(null);var e=this;return cc.loader.loadRes(Env.DIRECTORY_PATH+Env.FOOD_BOX_FILE_NAME,cc.SpriteFrame,function(t,n){t?cc.error("Error loading image: "+t):(console.log(Env.DIRECTORY_PATH+Env.FOOD_BOX_FILE_NAME),e.spr[0]=n)}),cc.loader.loadRes(Env.DIRECTORY_PATH+Env.N_SWITCH_ON_FILE_NAME,cc.SpriteFrame,function(t,n){t?cc.error("Error loading image: "+t):e.spr[1]=n}),cc.loader.loadRes(Env.DIRECTORY_PATH+Env.N_SWITCH_OFF_FILE_NAME,cc.SpriteFrame,function(t,n){t?cc.error("Error loading image: "+t):e.spr[2]=n}),cc.loader.loadRes(Env.DIRECTORY_PATH+Env.L_SWITCH_ON_FILE_NAME,cc.SpriteFrame,function(t,n){t?cc.error("Error loading image: "+t):e.spr[3]=n}),cc.loader.loadRes(Env.DIRECTORY_PATH+Env.L_SWITCH_OFF_FILE_NAME,cc.SpriteFrame,function(t,n){t?cc.error("Error loading image: "+t):e.spr[4]=n}),cc.loader.loadRes(Env.DIRECTORY_PATH+Env.BATTERY_FILE_NAME,cc.SpriteFrame,function(t,n){t?cc.error("Error loading image: "+t):e.spr[5]=n}),cc.loader.loadRes(Env.DIRECTORY_PATH+Env.BOMB_FILE_NAME,cc.SpriteFrame,function(t,n){t?cc.error("Error loading image: "+t):e.spr[6]=n}),cc.loader.loadRes(Env.DIRECTORY_PATH+Env.ROCKET_EMPTY_FILE_NAME,cc.SpriteFrame,function(t,n){t?cc.error("Error loading image: "+t):e.spr[7]=n}),cc.loader.loadRes(Env.DIRECTORY_PATH+Env.ROCKET_FILLED_FILE_NAME,cc.SpriteFrame,function(t,n){t?cc.error("Error loading image: "+t):e.spr[8]=n}),cc.loader.loadRes(Env.DIRECTORY_PATH+Env.L_START_ON_FILE_NAME,cc.SpriteFrame,function(t,n){t?cc.error("Error loading image: "+t):e.spr[9]=n}),cc.loader.loadRes(Env.DIRECTORY_PATH+Env.L_MIDDLE_FILE_NAME,cc.SpriteFrame,function(t,n){t?cc.error("Error loading image: "+t):e.spr[10]=n}),cc.loader.loadRes(Env.DIRECTORY_PATH+Env.L_END_ON_FILE_NAME,cc.SpriteFrame,function(t,n){t?cc.error("Error loading image: "+t):e.spr[11]=n}),cc.loader.loadRes(Env.DIRECTORY_PATH+Env.L_START_OFF_FILE_NAME,cc.SpriteFrame,function(t,n){t?cc.error("Error loading image: "+t):e.spr[12]=n}),cc.loader.loadRes(Env.DIRECTORY_PATH+Env.L_END_OFF_FILE_NAME,cc.SpriteFrame,function(t,n){t?cc.error("Error loading image: "+t):e.spr[13]=n}),cc.loader.loadRes(Env.DIRECTORY_PATH+Env.GOAL_FILE_NAME,cc.SpriteFrame,function(t,n){t?cc.error("Error loading image: "+t):e.spr[14]=n}),!0},GetImage:function(e){return e>=0&&e<this.spr.length?this.spr[e]:(cc.warn("MSG :",this.spr.length),cc.warn("Invalid tag: "+e),null)}});cc._RF.pop()},{}],MainScene:[function(e,t,n){"use strict";cc._RF.push(t,"f9005BXbBNEYpWG4tPKUQe1","MainScene"),cc.Class({extends:cc.Component,properties:{sliderBar:cc.ProgressBar,targetObject:cc.Node,stopBtn:cc.Button,isDegreeReverse:!1,isProgressReverse:!1,isStopped:!1,degree:90,progressValue:0},start:function(){this.AddEvent(),this.DegreeGameStart(),this.ProgresGameStart()},onLoad:function(){},AddEvent:function(){this.sliderBar.interactable=!1,this.stopBtn.node.on("click",this.StopDegreeLooper,this)},StopDegreeLooper:function(){this.isStoped=!this.isStoped},ProgresGameStart:function(){var e=this;setInterval(function(){e.isStoped||(e.isProgressReverse?e.DecreaseProgress():e.IncreaseProgress(),e.sliderBar.progress=e.progressValue)},.03)},IncreaseProgress:function(){this.progressValue>=1?this.isProgressReverse=!0:this.progressValue+=.01},DecreaseProgress:function(){this.progressValue<=0?this.isProgressReverse=!1:this.progressValue-=.01},DegreeGameStart:function(){var e=this;setInterval(function(){e.isStoped||(e.isDegreeReverse?e.DecreaseDegree():e.IncreaseDegree(),e.targetObject.angle=e.degree)},.03)},IncreaseDegree:function(){this.degree>=90?this.isDegreeReverse=!0:this.degree+=.5},DecreaseDegree:function(){this.degree<=-90?this.isDegreeReverse=!1:this.degree-=.5}}),cc._RF.pop()},{}],ObjectLaiser:[function(e,t,n){"use strict";cc._RF.push(t,"edf33C2fGZLeKAKOApy4JPm","ObjectLaiser");var i=e("./Gobject");cc.Class({extends:i,properties:{number:0},Init:function(e,t){this._super(e),this.number=t}});cc._RF.pop()},{"./Gobject":"Gobject"}],SoundManager:[function(e,t,n){"use strict";cc._RF.push(t,"f474ez70q5GJ5iKnEUTFknO","SoundManager");var i=cc.Class({extends:cc.Component,statics:{_instance:null,getInstance:function(){return i._instance||(i._instance=new i,i._instance.init()),i._instance}},properties:{sound:{default:[],type:cc.AudioClip},isLoadedSFX:!1},init:function(){this._LoadSFX()},IsLoadCheck:function(){return this.sound[7]},PlaySfx:function(e){if(e>this.sound.length)console.log("SFX Load ERROR");else if(null!==this.sound[e]){console.log("playSFX ==> ",e);var t=this.sound[e];cc.audioEngine.play(t,!1,1,function(){console.log("Done")}.bind(this))}else console.log("SFX NULL ERROR ")},_LoadSFX:function(){if(!this.isLoadedSFX){this.sound=new Array(8).fill(null);var e=this;cc.loader.loadRes(Env.SFX_DIRECTORY_PATH+Env.SFX_FILENAME_DROP_SWITCH,cc.AudioClip,function(t,n){t?cc.error("Error loading image: "+t):e.sound[0]=n}),cc.loader.loadRes(Env.SFX_DIRECTORY_PATH+Env.SFX_FILENAME_LASER_SWITCH,cc.AudioClip,function(t,n){t?cc.error("Error loading image: "+t):e.sound[1]=n}),cc.loader.loadRes(Env.SFX_DIRECTORY_PATH+Env.SFX_FILENAME_EXPLOSION,cc.AudioClip,function(t,n){t?cc.error("Error loading image: "+t):e.sound[2]=n}),cc.loader.loadRes(Env.SFX_DIRECTORY_PATH+Env.SFX_FILENAME_EARN,cc.AudioClip,function(t,n){t?cc.error("Error loading image: "+t):e.sound[3]=n}),cc.loader.loadRes(Env.SFX_DIRECTORY_PATH+Env.SFX_FILENAME_DROP_ITEM,cc.AudioClip,function(t,n){t?cc.error("Error loading image: "+t):e.sound[4]=n}),cc.loader.loadRes(Env.SFX_DIRECTORY_PATH+Env.SFX_FILENAME_LASER_ON,cc.AudioClip,function(t,n){t?cc.error("Error loading image: "+t):e.sound[5]=n}),cc.loader.loadRes(Env.SFX_DIRECTORY_PATH+Env.SFX_FILENAME_LASER_OFF,cc.AudioClip,function(t,n){t?cc.error("Error loading image: "+t):e.sound[6]=n}),cc.loader.loadRes(Env.SFX_DIRECTORY_PATH+Env.SFX_FILENAME_PARTS_DOCKING,cc.AudioClip,function(t,n){t?cc.error("Error loading image: "+t):e.sound[7]=n})}}});cc._RF.pop()},{}]},{},["Controller","Env","GameManager","Loader","SoundManager","Gobject","ObjectLaiser","MainScene"]);
//# sourceMappingURL=project.js.map

window.__require=function e(t,n,i){function a(o,r){if(!n[o]){if(!t[o]){var c=o.split("/");if(c=c[c.length-1],!t[c]){var E="function"==typeof __require&&__require;if(!r&&E)return E(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+o+"'")}o=c}var _=n[o]={exports:{}};t[o][0].call(_.exports,function(e){return a(t[o][1][e]||e)},_,_.exports,e,t,n,i)}return n[o].exports}for(var s="function"==typeof __require&&__require,o=0;o<i.length;o++)a(i[o]);return a}({Controller:[function(e,t,n){"use strict";cc._RF.push(t,"f836dKWNtlCD4eB7ehfDQhA","Controller");var i=cc.Class({statics:{_instance:null,getInstance:function(){return i._instance||(i._instance=new i),i._instance}},properties:{initJson:null,streamJson:null,loadIndex:0,gameStatus:!1,isGamePause:!1,finalIndex:!1},getInitStageData:function(){return this.initJson.stage},getInitPlayerData:function(){return this.initJson.player},getInitOjbectDatas:function(){return this.initJson.stage.init_item_list},getCommandLine:function(e){var t=this.streamJson;return null==t?-1:e>=t.data.length?(console.log("Out of Range"),-1):t.data[e]},getCommandLength:function(){return this.streamJson.data.length-1},ReceiveJson:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.initJson=e:this.streamJson=e},GetProgressId:function(){return this.loadIndex},SetProgressId:function(e){this.loadIndex=e},GetStatus:function(){return this.gameStatus},SetStatus:function(e){this.gameStatus=e},SetOption:function(e){},InitOption:function(e){},PauseGame:function(){this.isGamePause=!0},ResumeGame:function(){this.isGamePause=!1}});t.exports=i,window.SendInitData=function(e){return null!=i.getInstance().initJson||(i.getInstance().ReceiveJson(e,!0),!1)},window.SendStreamData=function(e){i.getInstance().ReceiveJson(e),i.getInstance().SetProgressId(0),i.getInstance().SetStatus(!0)},window.SetProgressId=function(e){i.getInstance().SetProgressId(e)},window.OnClickPlay=function(){i.getInstance().SetStatus(!0)},window.SetOptions=function(e){i.getInstance().SetOption(e)},window.InitOption=function(e){i.getInstance().InitOption(e)},window.ExternalPauseGame=function(){i.getInstance().PauseGame()},window.ExternalResumeGame=function(){i.getInstance().ResumeGame()},window.IsCocosGameLoad=function(){return!!i.getInstance().finalIndex},cc._RF.pop()},{}],Env:[function(e,t,n){"use strict";cc._RF.push(t,"79616xg/o1EEq25k+q+RW23","Env"),window.Env={OFFSET_X:96,OFFSET_Y:96,PLAYER_RADIO:48,SFX_FOOTSTEP_L:0,SFX_FOOTSTEP_R:1,SFX_DIRECTORY_PATH:"./sfx/",SFX_FILENAME_DROP_SWITCH:"drop_switch",SFX_FILENAME_LASER_SWITCH:"laser_switch",SFX_FILENAME_EXPLOSION:"explosion",SFX_FILENAME_EARN:"itemEarn",SFX_FILENAME_DROP_ITEM:"drop_item",SFX_FILENAME_LASER_ON:"laser_on",SFX_FILENAME_LASER_OFF:"laser_off",SFX_FILENAME_PARTS_DOCKING:"parts_done",SFX_DROP_SWITCH:0,SFX_LASER_BUTTON:1,SFX_BOMB:2,SFX_EARN_ITEM:3,SFX_DROP_ITEM:4,SFX_LASER_ON:5,SFX_LASER_OFF:6,SFX_PARTS_DOCKING:7,FOOD:0,NORMAL_SWITCH_ON:1,NORMAL_SWITCH_OFF:2,LASER_SWITCH_ON:3,LASER_SWITCH_OFF:4,BATTERY:5,BOMB:6,ROCKET_EMPTY:7,ROCKET_FILLED:8,LASER_START_ON:9,LASER_MIDDLE_ON:10,LASER_END_ON:11,LASER_START_OFF:12,LASER_END_OFF:13,GOAL:14,VLASER_START_ON:15,VLASER_MIDDLE_ON:16,VLASER_END_ON:17,VLASER_START_OFF:18,FLOOR:19,MAX_LOAD_IMAGE_LENGTH:20,DIRECTORY_PATH:"./$jin/",FOOD_BOX_FILE_NAME:"foodBox",N_SWITCH_ON_FILE_NAME:"nSwitch_on",N_SWITCH_OFF_FILE_NAME:"nSwitch_off",L_SWITCH_ON_FILE_NAME:"lSwitch_on",L_SWITCH_OFF_FILE_NAME:"lSwitch_off",BATTERY_FILE_NAME:"battery",BOMB_FILE_NAME:"bomb",ROCKET_EMPTY_FILE_NAME:"rocket_empty",ROCKET_FILLED_FILE_NAME:"rocket_fill",L_START_ON_FILE_NAME:"lStart_on",L_MIDDLE_FILE_NAME:"lMiddle_on",L_END_ON_FILE_NAME:"lEnd_on",L_START_OFF_FILE_NAME:"lStart_off",L_END_OFF_FILE_NAME:"lEnd_off",GOAL_FILE_NAME:"test-none",VL_START_ON_FILE_NAME:"vlStart_on",VL_MIDDLE_ON_FILE_NAME:"vlMiddle_on",VL_END_ON_FILE_NAME:"vlEnd_on",VL_START_OFF_FILE_NAME:"vlStart_off",FLOOR_FILE_NAME:"floor",DIRECTION_UP:"up",DIRECTION_LEFT:"left",DIRECTION_RIGHT:"right",DIRECTION_DOWN:"down",PLAYER_DEFAULT_UP:0,PLAYER_DEFAULT_DOWN:1,PLAYER_DEFAULT_LEFT:2,PLAYER_DEFAULT_RIGHT:3,ANIMATION_LEFT:"leftRun",ANIMATION_RIGHT:"rightRun",ANIMATION_UP:"upRun",ANIMATION_DOWN:"downRun",ANIMATION_IDLE_LEFT:"left_idle",ANIMATION_IDLE_RIGHT:"right_idle",ANIMATION_IDLE_UP:"idle_back",ANIMATION_IDLE_DOWN:"idle_front",ANIMATION_LEFT_HIT:"hit_left",ANIMATION_RIGHT_HIT:"hit_right"},cc._RF.pop()},{}],GameManager:[function(e,t,n){"use strict";cc._RF.push(t,"727210ZU8hOIIDBp99LB0z6","GameManager");var i=e("../Controller"),a=e("./SoundManager"),s=e("./Loader"),o=e("./SoundManager");cc.Class({extends:cc.Component,properties:{btnTest:cc.Button,loadingBG:cc.Node,isLoaded:!1,isCameraShaked:!1,isPlay:!1,camera:cc.Camera,mapOffset:{default:[]},idx:0,gameMap:cc.TiledMap,player:cc.Node,spaceShip:cc.Node,bgNode:cc.Node,floorParent:cc.Node,item:[],dropItemList:[],dropSwitchList:[],goalObject:cc.Node,objectParent:cc.Node,effectParent:cc.Node,audioManager:cc.Node,pList:[],pIdx:0,hList:[],hIdx:0,expList:[],expIdx:0,dropEffectList:[],dropEffectIdx:0,isPlayExplosion:!1,timeCheck:0,startTime:0},onLoad:function(){this.loadingBG.active=!0,this.startTime=performance.now();var e=this,t=setInterval(function(){if(null!=s.getInstance().GetImage(0)){clearInterval(t);performance.now(),e.startTime;e.InitGame()}},30)},start:function(){var e=setInterval(function(){null!=a.getInstance().IsLoadCheck()&&clearInterval(e)},30)},_TileMapShake:function(){var e=this;setTimeout(function(){e.CameraMoveX(1)},1e3),setTimeout(function(){e.CameraMoveX(-1),e.LoadingFadeOut()},2e3)},CameraMoveX:function(e){var t=this.camera.node.position,n=t.x-e,i=cc.v3(n,t.y,t.z);this.camera.node.setPosition(i)},LoadingFadeOut:function(){var e=this,t=8,n=setInterval(function(){if(e.loadingBG.opacity<=0){t++,e.loadingBG.active=!1,e.isLoaded=!0,i.getInstance().finalIndex=!0,clearInterval(n);performance.now(),e.startTime}e.loadingBG.opacity-=t},30)},InitGame:function(){this.mapOffset=[{x:0,y:2},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:1},{x:0,y:2},{x:0,y:-1},{x:1,y:-2},{x:0,y:-1},{x:-4,y:1},{x:-1,y:-2},{x:0,y:-1},{x:-4,y:1},{x:-1,y:-2},{x:0,y:-1},{x:-4,y:1}],this.loadInit()},loadInit:function(){var e=this,t=setInterval(function(){null!=i.getInstance().initJson&&(e.EffectInit(),e.InitMap(),e.InitPlayer(),e.InitObject(),e.InitialCamera(),clearInterval(t))},100)},ShakeEffect:function(){if(!this.isCameraShaked){this.isCameraShaked=!0;var e=cc.v2(5,0),t=this.camera.node.position.clone();this.camera.node.runAction(cc.sequence(cc.moveBy(.02,e),cc.moveBy(.04,e.neg()),cc.moveBy(.02,e.neg()),cc.moveBy(.04,e.neg()),cc.moveTo(0,t)))}},update:function(e){this.isLoaded&&(i.getInstance().GetStatus()&&this.OnCodePlay())},InitPlayer:function(){var e=i.getInstance().getInitPlayerData(),t=e.pos,n=e.dir,a=(e.hp,e.status,e.food_count,e.rocket_parts_count,this),s=this.GVector(t[0],t[1]);cc.loader.loadRes("./prefabs/Player",cc.Prefab,function(e,t){if(e)cc.error("Error loading image: "+e);else{a.player=cc.instantiate(t),a.player.getComponent("Player").Init(s,n),a.node.addChild(a.player);performance.now(),a.startTime}})},GVector:function(e,t){var n=1*e,a=-1*t,s=i.getInstance().getInitStageData(),o=s.step,r=s.diff,c=s.level,E=this.ConvertGameLevel(o,r,c);return console.log("LOAD GAme Level --\x3e "+E),cc.v2((n+this.mapOffset[E].x)*Env.OFFSET_X+Env.PLAYER_RADIO,(a-this.mapOffset[E].y)*Env.OFFSET_Y-Env.PLAYER_RADIO)},ConvertGameLevel:function(e,t,n){var i=0;return"tutorial"===e?i=n-1:("1-1"===e&&"Easy"===t&&1===n&&(i=2),"1-1"===e&&"Easy"===t&&2===n&&(i=3),"1-1"===e&&"Easy"===t&&3===n&&(i=4),"1-1"===e&&"Normal"===t&&1===n&&(i=5),"1-1"===e&&"Normal"===t&&2===n&&(i=6),"1-1"===e&&"Normal"===t&&3===n&&(i=7),"1-1"===e&&"Hard"===t&&1===n&&(i=8),"1-1"===e&&"Hard"===t&&2===n&&(i=9),"1-1"===e&&"Hard"===t&&3===n&&(i=10),"1-2"===e&&"Easy"===t&&1===n&&(i=11),"1-2"===e&&"Easy"===t&&2===n&&(i=12),"1-2"===e&&"Easy"===t&&3===n&&(i=13),"1-2"===e&&"Normal"===t&&1===n&&(i=14),"1-2"===e&&"Normal"===t&&2===n&&(i=15),"1-2"===e&&"Normal"===t&&3===n&&(i=16),"1-2"===e&&"Hard"===t&&1===n&&(i=17),"1-2"===e&&"Hard"===t&&2===n&&(i=18),"1-2"===e&&"Hard"===t&&3===n&&(i=19),"1-3"===e&&"Easy"===t&&1===n&&(i=20),"1-3"===e&&"Easy"===t&&2===n&&(i=21),"1-3"===e&&"Easy"===t&&3===n&&(i=22),"1-3"===e&&"Normal"===t&&1===n&&(i=23),"1-3"===e&&"Normal"===t&&2===n&&(i=24),"1-3"===e&&"Normal"===t&&3===n&&(i=25),"1-3"===e&&"Hard"===t&&1===n&&(i=26),"1-3"===e&&"Hard"===t&&2===n&&(i=27),"1-3"===e&&"Hard"===t&&3===n&&(i=28)),i},InitMap:function(){var e=this,t="./map/"+this.GetMapURL();cc.loader.loadRes(t,cc.TiledMapAsset,function(t,n){t?cc.error("\ub9f5 \ub85c\ub529 \uc5d0\ub7ec: "+t):(e.gameMap.tmxAsset=n,e.MapSetupCamera())})},MapSetupCamera:function(){var e=this.gameMap.getMapSize(),t=this.gameMap.getTileSize(),n=e.height*t.height;this.gameMap.node.setPosition(0,3*-n),this._TileMapShake();var i=performance.now()-this.startTime;console.log("\ub9f5 \ub85c\ub529 \ubc0f \uc124\uc815 \uc644\ub8cc \uc2dc\uac04: "+i+"ms")},GetMapURL:function(){var e="",t=i.getInstance().getInitStageData(),n=(t.map,t.step),a=t.diff,s=t.level;if("tutorial"===n)e="map_T-"+s.toString();else{var o="Easy";switch(a){case"Easy":o="E";break;case"Normal":o="N";break;case"Hard":o="H"}e="map_"+n.toString()+"-"+o+"-"+s.toString()}return e},SetCamera:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1.5;this.camera.node.setPosition(cc.v3(e,t,0)),this.camera.zoomRatio=n},InitialCamera:function(){var e=i.getInstance().getInitStageData(),t=e.step,n=e.diff,a=e.level,s=this.ConvertGameLevel(t,n,a);switch(this.spaceShip.active=!1,s){case 0:case 1:this.SetCamera(-700,-870,1.4);break;case 2:case 3:case 5:case 6:this.SetCamera(-550,-1e3,1);break;case 8:case 9:this.SetCamera(-600,-970,1.2);break;case 4:case 7:case 10:this.SetCamera(-400,-1060,1);break;case 11:case 14:case 17:this.SetCamera(-300,-1200,.75);break;case 12:case 15:case 18:this.SetCamera(350,-1050,.7);break;case 13:case 16:case 19:this.SetCamera(650,-1e3,.58);break;case 20:case 23:case 26:this.SetCamera(140,-900,.8),this.spaceShip.setPosition(cc.v2(-4830,600)),this.spaceShip.active=!0;break;case 21:case 24:case 27:this.SetCamera(350,-900,.7),this.spaceShip.setPosition(cc.v2(-550,600)),this.spaceShip.active=!0;break;case 22:case 25:case 28:this.SetCamera(250,-1300,.7),this.spaceShip.setPosition(cc.v2(5260,-780)),this.spaceShip.active=!0}},EffectInit:function(){var e=this,t=[this.expList,this.hList,this.pList,this.dropEffectList];["/prefabs/explosion","/prefabs/heal","/prefabs/pickup","/prefabs/dropEffect"].forEach(function(n,i){for(var a=0;a<5;a++)cc.loader.loadRes(n,cc.Prefab,function(a,s){if(a)cc.error("\uc774\ubbf8\uc9c0 \ub85c\ub529 \uc5d0\ub7ec: "+a);else{var o=cc.instantiate(s);o.active=!1,e.effectParent.addChild(o),t[i].push(o);var r=performance.now()-e.startTime;console.log(n+" \ub85c\ub529 \uc2dc\uac04: "+r+"ms")}})})},showEffect:function(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;t>=e.length-1&&(t=0);var s=e[t];s.active=!0,s.setPosition(n);var o=s.getComponent(cc.Animation);return o.once("finished",function(){s.active=!1,e[t]=s,a&&a(),t++},this),o.play(i),t},ShowExplosion:function(e){var t=this;this.expIdx=this.showEffect(this.expList,this.expIdx,e,"explosion",function(){t.isCameraShaked=!1})},ShowHeal:function(e){this.hIdx=this.showEffect(this.hList,this.hIdx,e,"heal")},ShowPickup:function(e){this.pIdx=this.showEffect(this.pList,this.pIdx,e,"pickup",function(){o.getInstance().PlaySfx(Env.SFX_EARN_ITEM)})},ShowDropEffect:function(e){this.dropEffectIdx=this.showEffect(this.dropEffectList,this.dropEffectIdx,e,"dropeffect")},InitObject:function(){var e=i.getInstance().getInitStageData().goal_list;this.MakeGoal(e);var t=i.getInstance().getInitOjbectDatas();if(!(t.length<1)){for(var n=0;n<t.length;n++)this.MakeUpObject(t[n]);performance.now(),self.startTime}},MakeGoal:function(e){for(var t=0;t<e.length;t++)if("target"===e[t].goal){var n=e[t],i=cc.v2(n.pos[0],n.pos[1]);this.AddPrefabs(Env.GOAL,-1,i);performance.now(),self.startTime;break}},MakeUpObject:function(e){var t=e.type;if("laser"===t){var n=e.id,i=e.dir,a=e.pos_start[0],s=e.pos_start[1],o=e.status,r=cc.v2(a,s);this.AddLaserPrefab(Env.LASER_START_ON,n,r,o,i);var c=e.pos_end[0],E=e.pos_end[1],_=cc.v2(c,E);if(this.AddLaserPrefab(Env.LASER_END_ON,n,_,o,i),"h"===i)for(var h=a+1;h<c;h++){var l=cc.v2(h,s);this.AddLaserPrefab(Env.LASER_MIDDLE_ON,n,l,o,i)}else if("v"===i)for(h=s+1;h<E;h++){l=cc.v2(a,h);this.AddLaserPrefab(Env.LASER_MIDDLE_ON,n,l,o,i)}}else if("drop_switch"===t){var d=e.id,I=this.NameToTag(e.type),p=e.pos[0],f=e.pos[1],S=cc.v2(p,f),u=e.pos_drop[0],v=e.pos_drop[1],A=e.drop_type,L=this.NameToTag(A),g=cc.v2(u,v);this.AddDropSwitchPrefabs(I,d,S,L,g)}else{var m=this.NameToTag(e.type),T=e.pos[0],N=e.pos[1],O=e.id,R=cc.v2(T,N);m===Env.ROCKET_EMPTY?this.AddRocketParts(m,O,R,e):this.AddPrefabs(m,O,R)}},NameToTag:function(e){switch(e){case"food":return Env.FOOD;case"bomb":return Env.BOMB;case"rocket_parts":return Env.BATTERY;case"drop_switch":return Env.NORMAL_SWITCH_ON;case"laser_switch":return Env.LASER_SWITCH_ON;case"engines":case"solid_propellant":case"liquid_fuel":return Env.ROCKET_EMPTY}},AddRocketParts:function(e,t,n,i){var a=this;cc.loader.loadRes("./prefabs/rocketParts",cc.Prefab,function(s,o){if(s)cc.error("Error loading image: "+s);else{var r=cc.instantiate(o);r.addComponent("Gobject"),r.getComponent("Gobject").Init(e,t);var c=a.GVector(n.x,n.y);switch(r.setPosition(c),i.require_dir){case"up":r.rotation=0;break;case"down":r.rotation=-180;break;case"left":r.rotation=-90;break;case"right":r.rotation=90}a.item.push(r),a.objectParent.addChild(r),a.objectParent.setLocalZOrder=10;performance.now(),a.startTime}})},AddPrefabs:function(e,t,n){var i="",a=this;switch(e){case Env.FOOD:i="food";break;case Env.NORMAL_SWITCH_ON:case Env.NORMAL_SWITCH_OFF:i="nSwitch";break;case Env.LASER_SWITCH_ON:case Env.LASER_SWITCH_OFF:i="lSwitch";break;case Env.BATTERY:i="battery";break;case Env.BOMB:i="bomb";break;case Env.ROCKET_EMPTY:case Env.ROCKET_FILLED:i="rocketParts";break;case Env.GOAL:i="goal";break;case Env.FLOOR:i="floor"}var s="./prefabs/"+i;cc.loader.loadRes(s,cc.Prefab,function(i,s){if(i)cc.error("Error loading image: "+i);else{var o=cc.instantiate(s),r=a.GVector(n.x,n.y);o.setPosition(r),o.addComponent("Gobject"),o.getComponent("Gobject").Init(e,t),e===Env.GOAL?(a.goalObject=o,a.node.addChild(o)):(a.item.push(o),a.node.addChild(o));performance.now(),a.startTime}})},AddDropSwitchPrefabs:function(e,t,n,i,a){var s=this;cc.loader.loadRes("./prefabs/nSwitch",cc.Prefab,function(i,a){if(i)cc.error("Error loading image: "+i);else{var o=cc.instantiate(a);o.addComponent("Gobject"),o.getComponent("Gobject").Init(e,t);var r=s.GVector(n.x,n.y);o.setPosition(r),s.node.addChild(o),s.dropSwitchList.push(o);performance.now(),s.startTime}});cc.loader.loadRes("./prefabs/battery",cc.Prefab,function(e,n){if(e)cc.error("Error loading image: "+e);else{var o=cc.instantiate(n);o.addComponent("Gobject"),o.getComponent("Gobject").Init(i,t),o.getComponent("Gobject").DropItemHide(!0);var r=s.GVector(a.x,a.y);o.setPosition(r),s.node.addChild(o),s.dropItemList.push(o);performance.now(),s.startTime}})},AddLaserPrefab:function(e,t,n,i,a){var s="laser",o=this;e===Env.LASER_MIDDLE_ON&&(s="laserMiddle");var r="./prefabs/"+s;cc.loader.loadRes(r,cc.Prefab,function(s,r){if(s)cc.error("Error loading image: "+s);else{var c=cc.instantiate(r);c.addComponent("Gobject"),c.getComponent("Gobject").Init(e,t);var E=!1;E=0!==i,c.getComponent("Gobject").LaserInitial(e,E,a);var _=o.GVector(n.x,n.y);c.setPosition(_),o.node.addChild(c),o.item.push(c);performance.now(),o.startTime}})},executeCommand:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=i.getInstance().getCommandLine(e);if(-1===t)return!1;if(1===t.status)return!1;this.ObjectUpdate(t.item_list);var n=t.player.status,a=this.GVector(t.player.pos[0],t.player.pos[1]);return this.EffectControl(n,a),this.player.getComponent("Player").setPlayerStatus(n),this.player.getComponent("Player").setDirection(t.player.dir),this.player.getComponent("Player").Movement(a),!0},EffectControl:function(e,t){11===e?(this.ShakeEffect(),this.ShowExplosion(t)):3===e&&this.ShowPickup(t)},ObjectUpdate:function(e){if(!(e.length<1))for(var t=0;t<e.length;t++)this.ItemStatusUpdate(t,e[t]),this.DropSwitchUpdate(t,e[t])},DropSwitchUpdate:function(e,t){for(var n=0;n<this.dropSwitchList.length;n++){var i=this.dropSwitchList[n].getComponent("Gobject"),a=i.GetItemID();if(a===e&&0===t){var s=(o=this.FindDropItem(a)).getComponent("Gobject");!1===o.active&&this.ShowDropEffect(o.position),s.DropItemShow(),i.Hide()}else if(a===e&&1===t){(s=(o=this.FindDropItem(a)).getComponent("Gobject")).DropItemHide(),i.Hide()}else if(a===e&&2===t){(s=(o=this.FindDropItem(a)).getComponent("Gobject")).DropItemShow(),i.Show()}else if(a===e&&3===t){var o;(s=(o=this.FindDropItem(a)).getComponent("Gobject")).DropItemHide(),i.Show()}}},FindDropItem:function(e){for(var t=0;t<this.dropItemList.length;t++)if(this.dropItemList[t].getComponent("Gobject").GetItemID()===e)return this.dropItemList[t]},ItemStatusUpdate:function(e,t){for(var n=0;n<this.item.length;n++){var i=this.item[n].getComponent("Gobject"),a=i.GetItemID();i.GetItemTag();a===e&&0===t?i.Hide():i.GetItemID()===e&&1===t&&i.Show()}},OnCodePlay:function(){if(!this.isPlay){var e=this;this.isPlay=!0,this.idx=i.getInstance().GetProgressId();var t=setInterval(function(){if(i.getInstance().isGamePause){var n=i.getInstance().GetProgressId();e.idx=n}else!1===e.executeCommand(e.idx)&&(clearInterval(t),e.isPlay=!1,i.getInstance().SetStatus(!1)),e.idx++},1e3/60)}}}),cc._RF.pop()},{"../Controller":"Controller","./Loader":"Loader","./SoundManager":"SoundManager"}],Gobject:[function(e,t,n){"use strict";cc._RF.push(t,"e58f19MSUlGgK4r9ykmwmrh","Gobject");e("../Controller");var i=e("../GameLogic/Loader"),a=e("../GameLogic/SoundManager");cc.Class({extends:cc.Component,properties:{itemId:0,itemTAG:0,isStatusChange:!1,laser_direction:"h"},Init:function(e,t){this.ChangeSprite(e),this.itemId=t,this.itemTAG=e,this.isStatusChange=!0,e===Env.FOOD?this.node.getChildByName("gliter").getComponent(cc.Animation).play("gliter"):e===Env.GOAL&&this.node.getComponent(cc.Animation).play("goal")},GetItemTag:function(){return this.itemTAG},GetItemID:function(){return this.itemId},LaserInitial:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;this.laser_direction=n,"h"===n?t?e===Env.LASER_START_ON?this.ChangeSprite(Env.LASER_START_ON):e===Env.LASER_MIDDLE_ON?(this.node.active=!0,this.ChangeSprite(Env.LASER_MIDDLE_ON)):e===Env.LASER_END_ON&&this.ChangeSprite(Env.LASER_END_ON):(this.isStatusChange=!0,e===Env.LASER_START_ON?this.ChangeSprite(Env.LASER_START_OFF):e===Env.LASER_MIDDLE_ON?this.node.active=!1:e===Env.LASER_END_ON&&this.ChangeSprite(Env.LASER_END_OFF)):t?e===Env.LASER_START_ON?this.ChangeSprite(Env.VLASER_START_ON):e===Env.LASER_MIDDLE_ON?(this.node.active=!0,this.ChangeSprite(Env.VLASER_MIDDLE_ON)):e===Env.LASER_END_ON&&(this.node.active=!0,this.ChangeSprite(Env.VLASER_END_ON)):(this.isStatusChange=!0,e===Env.LASER_START_ON?this.ChangeSprite(Env.VLASER_START_OFF):e===Env.LASER_MIDDLE_ON?this.node.active=!1:e===Env.LASER_END_ON&&(this.node.active=!1))},Hide:function(){if(!1!==this.isStatusChange)if(this.isStatusChange=!1,this.itemTAG===Env.LASER_START_ON)"h"===this.laser_direction?this.ChangeSprite(Env.LASER_START_OFF):this.ChangeSprite(Env.VLASER_START_OFF);else if(this.itemTAG===Env.LASER_END_ON)"h"===this.laser_direction?this.ChangeSprite(Env.LASER_END_OFF):this.node.active=!1;else if(this.itemTAG===Env.LASER_SWITCH_ON)a.getInstance().PlaySfx(Env.SFX_LASER_BUTTON),this.ChangeSprite(Env.LASER_SWITCH_OFF);else if(this.itemTAG===Env.ROCKET_EMPTY)this.ChangeSprite(Env.ROCKET_EMPTY);else if(this.itemTAG===Env.NORMAL_SWITCH_ON)this.ChangeSprite(Env.NORMAL_SWITCH_OFF);else{if(!1===this.node.active)return;this.itemTAG===Env.BOMB&&a.getInstance().PlaySfx(Env.SFX_BOMB),this.node.active=!1}},Show:function(){if(!this.isStatusChange)if(this.isStatusChange=!0,this.itemTAG===Env.LASER_START_ON)"h"===this.laser_direction?this.ChangeSprite(Env.LASER_START_ON):this.ChangeSprite(Env.VLASER_START_ON);else if(this.itemTAG===Env.LASER_END_ON)"h"===this.laser_direction?this.ChangeSprite(Env.LASER_END_ON):(this.node.active=!0,this.ChangeSprite(Env.VLASER_MIDDLE_ON));else if(this.itemTAG===Env.LASER_SWITCH_ON)this.ChangeSprite(Env.LASER_SWITCH_ON);else if(this.itemTAG===Env.ROCKET_EMPTY)this.ChangeSprite(Env.ROCKET_FILLED),a.getInstance().PlaySfx(Env.SFX_PARTS_DOCKING),this.ShowProofEffect();else if(this.itemTAG===Env.NORMAL_SWITCH_ON)a.getInstance().PlaySfx(Env.SFX_DROP_SWITCH),this.ChangeSprite(Env.NORMAL_SWITCH_ON);else{if(!0===this.node.active)return;this.node.active=!0}},DropItemShow:function(){!0!==this.node.active&&(a.getInstance().PlaySfx(Env.SFX_DROP_ITEM),this.node.active=!0)},DropItemHide:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!1!==this.node.active&&(e||a.getInstance().PlaySfx(Env.SFX_EARN_ITEM),this.node.active=!1)},ShowProofEffect:function(){var e=this.node.getChildByName("proof");e.active=!0;var t=e.getComponent(cc.Animation);t.on("finished",function(){e.active=!1},this),t.play("proof")},ChangeSprite:function(e){this.node.getComponent(cc.Sprite).spriteFrame=i.getInstance().GetImage(e)}});cc._RF.pop()},{"../Controller":"Controller","../GameLogic/Loader":"Loader","../GameLogic/SoundManager":"SoundManager"}],Loader:[function(e,t,n){"use strict";cc._RF.push(t,"5b28f8Sy3hCNK12RzDq3AFJ","Loader");var i=cc.Class({extends:cc.Component,statics:{_instance:null,getInstance:function(){return i._instance||(i._instance=new i,i._instance.init()),i._instance}},properties:{initStatus:!1,spr:[]},init:function(){this._LoadImage()},_LoadImage:function(){var e=this;return!this.initStatus&&(this.initStatus=!0,this.spr=new Array(Env.MAX_LOAD_IMAGE_LENGTH).fill(null),cc.loader.loadRes(Env.DIRECTORY_PATH+"atlas",cc.SpriteAtlas,function(t,n){if(t)console.error("Failed to load atlas:",t);else for(var i=[Env.FOOD_BOX_FILE_NAME,Env.N_SWITCH_ON_FILE_NAME,Env.N_SWITCH_OFF_FILE_NAME,Env.L_SWITCH_ON_FILE_NAME,Env.L_SWITCH_OFF_FILE_NAME,Env.BATTERY_FILE_NAME,Env.BOMB_FILE_NAME,Env.ROCKET_EMPTY_FILE_NAME,Env.ROCKET_FILLED_FILE_NAME,Env.L_START_ON_FILE_NAME,Env.L_MIDDLE_FILE_NAME,Env.L_END_ON_FILE_NAME,Env.L_START_OFF_FILE_NAME,Env.L_END_OFF_FILE_NAME,Env.GOAL_FILE_NAME,Env.VL_START_ON_FILE_NAME,Env.VL_MIDDLE_ON_FILE_NAME,Env.VL_END_ON_FILE_NAME,Env.VL_START_OFF_FILE_NAME],a=0;a<i.length;a++){var s=n.getSpriteFrame(i[a]);s?e.spr[a]=s:console.error("Missing sprite frame for:",i[a])}}),!0)},GetImage:function(e){return e>=0&&e<this.spr.length?this.spr[e]:(console.warn("Invalid tag: "+e+"; Index should be between 0 and "+(this.spr.length-1)),null)}});cc._RF.pop()},{}],MainScene:[function(e,t,n){"use strict";cc._RF.push(t,"f9005BXbBNEYpWG4tPKUQe1","MainScene"),cc.Class({extends:cc.Component,properties:{sliderBar:cc.ProgressBar,targetObject:cc.Node,stopBtn:cc.Button,isDegreeReverse:!1,isProgressReverse:!1,isStopped:!1,degree:90,progressValue:0},start:function(){this.AddEvent(),this.DegreeGameStart(),this.ProgresGameStart()},onLoad:function(){},AddEvent:function(){this.sliderBar.interactable=!1,this.stopBtn.node.on("click",this.StopDegreeLooper,this)},StopDegreeLooper:function(){this.isStoped=!this.isStoped},ProgresGameStart:function(){var e=this;setInterval(function(){e.isStoped||(e.isProgressReverse?e.DecreaseProgress():e.IncreaseProgress(),e.sliderBar.progress=e.progressValue)},.03)},IncreaseProgress:function(){this.progressValue>=1?this.isProgressReverse=!0:this.progressValue+=.01},DecreaseProgress:function(){this.progressValue<=0?this.isProgressReverse=!1:this.progressValue-=.01},DegreeGameStart:function(){var e=this;setInterval(function(){e.isStoped||(e.isDegreeReverse?e.DecreaseDegree():e.IncreaseDegree(),e.targetObject.angle=e.degree)},.03)},IncreaseDegree:function(){this.degree>=90?this.isDegreeReverse=!0:this.degree+=.5},DecreaseDegree:function(){this.degree<=-90?this.isDegreeReverse=!1:this.degree-=.5}}),cc._RF.pop()},{}],ObjectLaiser:[function(e,t,n){"use strict";cc._RF.push(t,"edf33C2fGZLeKAKOApy4JPm","ObjectLaiser");var i=e("./Gobject");cc.Class({extends:i,properties:{number:0},Init:function(e,t){this._super(e),this.number=t}});cc._RF.pop()},{"./Gobject":"Gobject"}],Player:[function(e,t,n){"use strict";cc._RF.push(t,"46be6eeiGlMCpDkX0lZkvE+","Player");e("Controller");cc.Class({extends:cc.Component,properties:{initPosition:null,direction:Env.DIRECTION_UP,bubble:cc.Node,bubbleLabel:cc.Label,isShowMessage:!1,playerIsDead:!1,playerStatusInfo:0,audioFootStep:{default:[],type:cc.AudioClip},audioStep:0,isPlaySound:!1,isBombAnimation:!1},Movement:function(e){this.changeSpriteDirection(),this.node.setPosition(e)},PlayFootStep:function(){if(!this.isPlaySound){this.isPlaySound=!0;var e=this;setTimeout(function(){e.isPlaySound=!1},300);var t=this.audioFootStep[this.audioStep];cc.audioEngine.play(t,!1,1,function(){1===this.audioStep?this.audioStep=0:this.audioStep=1}.bind(this))}},changeSpriteDirection:function(){var e=this.getComponent(cc.Animation);if(this.playerStatusInfo<2&&this.PlayerInitAnimation(),1===this.playerStatusInfo){switch(this.direction){case Env.DIRECTION_UP:this.getComponent(cc.Animation).getAnimationState(Env.ANIMATION_UP).isPlaying||e.play(Env.ANIMATION_UP);break;case Env.DIRECTION_DOWN:this.getComponent(cc.Animation).getAnimationState(Env.ANIMATION_DOWN).isPlaying||e.play(Env.ANIMATION_DOWN);break;case Env.DIRECTION_RIGHT:this.getComponent(cc.Animation).getAnimationState(Env.ANIMATION_RIGHT).isPlaying||e.play(Env.ANIMATION_RIGHT);break;case Env.DIRECTION_LEFT:this.getComponent(cc.Animation).getAnimationState(Env.ANIMATION_LEFT).isPlaying||e.play(Env.ANIMATION_LEFT)}this.PlayFootStep()}else if(11===this.playerStatusInfo){if(this.isBombAnimation)return;this.isBombAnimation=!0;e=this.getComponent(cc.Animation);(this.direction===Env.ANIMATION_LEFT?e.getAnimationState(Env.ANIMATION_LEFT_HIT):e.getAnimationState(Env.ANIMATION_RIGHT_HIT)).isPlaying||(this.direction===Env.ANIMATION_LEFT?e.play(Env.ANIMATION_LEFT_HIT):e.play(Env.ANIMATION_RIGHT_HIT));var t=this;setTimeout(function(){t.isBombAnimation=!1},1e3)}else 9!==this.playerStatusInfo&&(this.direction===Env.DIRECTION_LEFT?this.getComponent(cc.Animation).play(Env.ANIMATION_IDLE_LEFT):this.direction===Env.DIRECTION_RIGHT?this.getComponent(cc.Animation).play(Env.ANIMATION_IDLE_RIGHT):this.direction===Env.DIRECTION_UP?this.getComponent(cc.Animation).play(Env.ANIMATION_IDLE_UP):this.direction===Env.DIRECTION_DOWN&&this.getComponent(cc.Animation).play(Env.ANIMATION_IDLE_DOWN))},Init:function(e,t){this.initPosition=e,this.node.setPosition(e),this._HideBubble(),this.PlayerInitAnimation(),this.node.zIndex=cc.macro.MAX_ZINDEX-1;var n=0;switch(t){case Env.DIRECTION_LEFT:n=Env.PLAYER_DEFAULT_LEFT;break;case Env.DIRECTION_RIGHT:n=Env.PLAYER_DEFAULT_RIGHT;break;case Env.DIRECTION_UP:n=Env.PLAYER_DEFAULT_UP;break;case Env.DIRECTION_DOWN:n=Env.PLAYER_DEFAULT_DOWN}n===Env.PLAYER_DEFAULT_LEFT?this.getComponent(cc.Animation).play(Env.ANIMATION_IDLE_LEFT):n===Env.PLAYER_DEFAULT_UP?this.getComponent(cc.Animation).play(Env.ANIMATION_IDLE_UP):n===Env.PLAYER_DEFAULT_DOWN?this.getComponent(cc.Animation).play(Env.ANIMATION_IDLE_DOWN):n===Env.PLAYER_DEFAULT_RIGHT&&this.getComponent(cc.Animation).play(Env.ANIMATION_IDLE_RIGHT)},playerInit:function(){this.node.setPosition(this.initPosition),this.direction=Env.DIRECTION_RIGHT,this.changeSpriteDirection()},setDirection:function(e){this.direction=e},setPlayerStatus:function(e){if(this.playerStatusInfo=e,!(this.playerStatusInfo<2))switch(e){case 9:this.PlayerDealAnimation();break;case 10:this.ShowMessage("\uc774 \ubc29\ud5a5\uc73c\ub85c \uc774\ub3d9\ud560\uc218 \uc5c6\uc5b4!");break;case 13:this.ShowMessage("\uc774\uacf3\uc5d0\uc11c \ud560\uc218 \uc5c6\ub294 \uba85\ub839\uc5b4\uc57c!");break;case 14:this.ShowMessage("\ubb38\uc790\uc5f4\uc774 \uc798\ubabb \uc785\ub825\ub418\uc5c8\uc5b4.");break;case 15:this.ShowMessage("\uace0\uccb4\ucd94\uc9c4\uc81c \uc7a5\ucc29!");break;case 16:this.ShowMessage("\uc561\uccb4\uc5f0\ub8cc \uc7a5\ucc29!");break;case 17:this.ShowMessage("\ucd94\uac00 \uc5d4\uc9c4 \uc7a5\ucc29!")}},ShowMessage:function(e){if(!this.isShowMessage){this.bubbleLabel.string=e,this._ShowBubble();var t=this;setTimeout(function(){t._HideBubble()},1e3)}},_HideBubble:function(){this.isShowMessage=!1,this.bubble.active=!1},_ShowBubble:function(){this.isShowMessage=!0,this.bubble.active=!0},PlayerInitAnimation:function(){!1!==this.playerIsDead&&(this.playerIsDead=!1,this.node.opacity=255)},PlayerDealAnimation:function(){if(!this.playerIsDead){this.playerIsDead=!0;var e=this,t=(this.getComponent(cc.Animation),setInterval(function(n){e.node.opacity<1&&clearInterval(t),e.node.opacity-=10},20))}}}),cc._RF.pop()},{Controller:"Controller"}],SoundManager:[function(e,t,n){"use strict";cc._RF.push(t,"f474ez70q5GJ5iKnEUTFknO","SoundManager");var i=cc.Class({extends:cc.Component,statics:{_instance:null,getInstance:function(){return i._instance||(i._instance=new i,i._instance.init()),i._instance}},properties:{sound:{default:[],type:cc.AudioClip},isLoadedSFX:!1},init:function(){this._LoadSFX()},IsLoadCheck:function(){return null!==this.sound[7]},PlaySfx:function(e){if(e>=this.sound.length||e<0)console.error("SFX Load ERROR: Index out of range");else{var t=this.sound[e];t?cc.audioEngine.playEffect(t,!1):console.error("SFX NULL ERROR: No sound loaded for TAG "+e)}},_LoadSFX:function(){if(!this.isLoadedSFX){this.sound=new Array(8).fill(null);var e=function(e,t){var n=this;cc.loader.loadRes(Env.SFX_DIRECTORY_PATH+t,cc.AudioClip,function(i,a){i?console.error("Error loading sound for "+t+": ",i):(n.sound[e]=a,console.log("Loaded sound for "+t))})};e.call(this,0,Env.SFX_FILENAME_DROP_SWITCH),e.call(this,1,Env.SFX_FILENAME_LASER_SWITCH),e.call(this,2,Env.SFX_FILENAME_EXPLOSION),e.call(this,3,Env.SFX_FILENAME_EARN),e.call(this,4,Env.SFX_FILENAME_DROP_ITEM),e.call(this,5,Env.SFX_FILENAME_LASER_ON),e.call(this,6,Env.SFX_FILENAME_LASER_OFF),e.call(this,7,Env.SFX_FILENAME_PARTS_DOCKING),this.isLoadedSFX=!0}}});cc._RF.pop()},{}]},{},["Controller","Env","GameManager","Loader","SoundManager","Gobject","ObjectLaiser","Player","MainScene"]);